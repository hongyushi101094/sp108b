为了虚拟化 CPU，操作系统需要以某种方式让许多任务共享物理 CPU，让它们看起来像是同时运行。基本思想很简单：运行一个进程一段时间，
然后运行另一个进程，如此轮换。通过以这种方式时分共享（time sharing）CPU，就实现了虚拟化。
然而，在构建这样的虚拟化机制时存在一些挑战。

第一个是性能：
如何在不增加系统开销的情况下实现虚拟化？

第二个是控制权：
如何有效地运行进程，同时保留对 CPU 的控制？控制权对于操作系统尤为重要，因为操作系统负责资源管理。如果没有控制权，一个
进程可以简单地无限制运行并接管机器，或访问没有权限的信息。因此，在保持控制权的同时获得高性能，这是构建操作系统的主要挑战之一。
-----出自Operating Systems: Three Easy Pieces 中文版

受限制直接執行:
受限制直接執行是開發員為了程序更快執行所用的技術。

<直接執行>:當作業系統要啟動程序會為程序，在進程列表上創建條目，然後分配內存，之後把程序代碼加入內存中，接著找到入口點並跳轉到入
口點，然後開始運行。

<用戶模式>:為當進程想要執行某種受限操作都會被用戶模式擋下來，此時就會使用到用戶模式。

而想要執行揖謝受限操作的話就要用到trap指令:

要执行系统调用，程序必须执行特殊的陷阱（trap）指令。该指令同时跳入内核并将特
权级别提升到内核模式。一旦进入内核，系统就可以执行任何需要的特权操作（如果允许），
从而为调用进程执行所需的工作。完成后，操作系统调用一个特殊的从陷阱返回
（return-from-trap）指令，如你期望的那样，该指令返回到发起调用的用户程序中，同时将
特权级别降低，回到用户模式。-----出自Operating Systems: Three Easy Pieces 中文版
